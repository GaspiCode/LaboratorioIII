<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Variables Objeto Dato</title>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th,
        td {
            border: 1px solid #000;
            padding: 10px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
        }
    </style>
</head>

<body>
    <div>
        <h1>Agregar Persona</h1>
        <label for="nombre">Nombre</label>
        <input type="text" name="nombre" id="nombre">
        <label for="apellido">Apellido</label>
        <input type="text" name="apellido" id="apellido">
        <button id="crear">Crear Persona</button>
    </div>

    <div>
        <h1>Control</h1>
        <button id="lista">Lista Personas</button>
        <button id="ocultar">Ocultar Presentacion</button>
    </div>

    <h1>Presentacion</h1>
    
    <div id="container">

    </div>

    <script>
        let arr = []
        const submit = document.querySelector('#crear')
        const lista = document.querySelector('#lista')
        const ocultar = document.querySelector('#ocultar')

        submit.addEventListener('click', () => {
            const nombre = document.querySelector('input[name="nombre"]')
            const apellido = document.querySelector('input[name="apellido"]')
            newItem = {
                "nombre": nombre.value,
                "apellido": apellido.value
            }
            arr.push(newItem)
        })

        lista.addEventListener('click', () => {
            const container = document.querySelector('#container')
            const table = document.querySelector('table')
            if (table) {
                container.removeChild(table)
            }




            const newTable = document.createElement("table")
            const thead = document.createElement('thead')
            const hrow1 = document.createElement('tr')
            const hrow2 = document.createElement('tr')
            hrow2.textContent = "Longitud del array de personas: " + arr.length
            const headersRow1 = ['Nombre', 'Apellido']
            headersRow1.forEach(encabezado => {
                const th = document.createElement('th')
                th.textContent = encabezado
                hrow1.appendChild(th)
            });

            thead.appendChild(hrow2)
            thead.appendChild(hrow1)
            
            newTable.appendChild(thead);

            for (var i = 0; i < arr.length; i++) {
                const tr = document.createElement("tr")
                const tdNombre = document.createElement("td")
                tdNombre.textContent = arr[i].nombre
                tr.appendChild(tdNombre)
                const tdApellido = document.createElement("td")
                tdApellido.textContent = arr[i].apellido
                tr.appendChild(tdApellido)
                newTable.appendChild(tr)
            }
            container.appendChild(newTable)

        })

        ocultar.addEventListener('click', () => {
            const container = document.querySelector('#container')
            const table = document.querySelector('table')
            container.removeChild(table)

        })




    </script>
</body>

</html>